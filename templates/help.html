<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hilfe - IRI® Legal Agent</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <style>
        body {
            padding-top: 56px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .content {
            flex: 1;
        }
        .footer {
            margin-top: auto;
            padding: 20px 0;
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="/">IRI® Legal Agent</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="/"><i class="bi bi-house-door"></i> Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/api-keys"><i class="bi bi-key"></i> API-Schlüssel</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/results"><i class="bi bi-table"></i> Ergebnisse</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/upload-config"><i class="bi bi-upload"></i> Konfiguration importieren</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/help"><i class="bi bi-question-circle"></i> Hilfe</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container content mt-4">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <h2><i class="bi bi-question-circle"></i> Hilfe</h2>
                    </div>
                    <div class="card-body">
                        <div class="accordion" id="helpAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingOne">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                        <i class="bi bi-info-circle me-2"></i> Über den IRI® Legal Agent
                                    </button>
                                </h2>
                                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#helpAccordion">
                                    <div class="accordion-body">
                                        <p>Der IRI® Legal Agent ist ein automatisiertes System zur Erkennung und Dokumentation von nicht-lizenzierten kosmetischen Behandlungen mit "Hyaluron Pens" in Deutschland.</p>
                                        
                                        <p>Das System überwacht soziale Medien (Instagram, TikTok, Google) nach Beiträgen mit relevanten Hashtags und Keywords, erstellt Screenshots als Beweismaterial, dokumentiert Fälle in einem Monday.com-Board und kann optional Berechtigungsanfragen per E-Mail versenden sowie Verstöße an zuständige Gesundheitsämter melden.</p>
                                        
                                        <h5>Hauptfunktionen:</h5>
                                        <ul>
                                            <li>Überwachung sozialer Medien nach Hyaluron Pen Angeboten</li>
                                            <li>Erstellung von Screenshots als Beweismaterial</li>
                                            <li>Dokumentation von Fällen in Monday.com</li>
                                            <li>Optional: Versand von Berechtigungsanfragen per E-Mail</li>
                                            <li>Optional: Meldung von Verstößen an Gesundheitsämter</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingTwo">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        <i class="bi bi-key me-2"></i> API-Schlüssel konfigurieren
                                    </button>
                                </h2>
                                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#helpAccordion">
                                    <div class="accordion-body">
                                        <p>Für die Nutzung des IRI® Legal Agent benötigen Sie folgende API-Schlüssel:</p>
                                        
                                        <h5>ScreenshotAPI.net</h5>
                                        <p>Wird benötigt, um Screenshots von verdächtigen Profilen und Beiträgen zu erstellen.</p>
                                        <ol>
                                            <li>Registrieren Sie sich bei <a href="https://screenshotapi.net" target="_blank">ScreenshotAPI.net</a></li>
                                            <li>Navigieren Sie zu Ihrem Dashboard</li>
                                            <li>Kopieren Sie Ihren API-Schlüssel</li>
                                            <li>Fügen Sie den Schlüssel in das entsprechende Feld unter "API-Schlüssel" ein</li>
                                        </ol>
                                        
                                        <h5>Monday.com</h5>
                                        <p>Wird benötigt, um Fälle in Monday.com zu dokumentieren.</p>
                                        <ol>
                                            <li>Melden Sie sich bei <a href="https://monday.com" target="_blank">Monday.com</a> an</li>
                                            <li>Navigieren Sie zu Ihrem Profil > Admin > API</li>
                                            <li>Erstellen Sie einen neuen API-Token mit Schreibrechten</li>
                                            <li>Kopieren Sie den Token</li>
                                            <li>Fügen Sie den Token in das entsprechende Feld unter "API-Schlüssel" ein</li>
                                        </ol>
                                        
                                        <h5>SendGrid (optional)</h5>
                                        <p>Wird benötigt, um E-Mail-Benachrichtigungen zu versenden.</p>
                                        <ol>
                                            <li>Registrieren Sie sich bei <a href="https://sendgrid.com" target="_blank">SendGrid</a></li>
                                            <li>Navigieren Sie zu Settings > API Keys</li>
                                            <li>Erstellen Sie einen neuen API-Key mit Mail Send-Berechtigung</li>
                                            <li>Kopieren Sie den API-Key</li>
                                            <li>Fügen Sie den Key in das entsprechende Feld unter "API-Schlüssel" ein</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingThree">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                        <i class="bi bi-play-circle me-2"></i> Workflow ausführen
                                    </button>
                                </h2>
                                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#helpAccordion">
                                    <div class="accordion-body">
                                        <p>Um den IRI® Legal Agent auszuführen, folgen Sie diesen Schritten:</p>
                                        
                                        <ol>
                                            <li>Stellen Sie sicher, dass alle erforderlichen API-Schlüssel konfiguriert sind</li>
                                            <li>Navigieren Sie zum Dashboard</li>
                                            <li>Klicken Sie auf den Button "Workflow starten"</li>
                                            <li>Der Workflow wird nun im Hintergrund ausgeführt und durchläuft folgende Schritte:
                                                <ul>
                                                    <li>Social Media Monitoring: Suche nach verdächtigen Beiträgen</li>
                                                    <li>Screenshot und Beweissicherung: Erstellung von Screenshots</li>
                                                    <li>Monday.com Integration: Dokumentation der Fälle</li>
                                                    <li>Optional: E-Mail-Benachrichtigungen</li>
                                                </ul>
                                            </li>
                                            <li>Der Fortschritt wird auf dem Dashboard angezeigt</li>
                                            <li>Nach Abschluss können Sie die Ergebnisse unter "Ergebnisse" einsehen</li>
                                        </ol>
                                        
                                        <div class="alert alert-info">
                                            <i class="bi bi-info-circle"></i> Der Workflow kann je nach Anzahl der gefundenen Fälle einige Minuten dauern. Bitte haben Sie Geduld.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingFour">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                        <i class="bi bi-table me-2"></i> Ergebnisse verstehen
                                    </button>
                                </h2>
                                <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#helpAccordion">
                                    <div class="accordion-body">
                                        <p>Nach Abschluss des Workflows können Sie die Ergebnisse unter "Ergebnisse" einsehen. Die Ergebnisse sind in zwei Tabs unterteilt:</p>
                                        
                                        <h5>Suchergebnisse</h5>
                                        <p>Hier sehen Sie eine Tabelle mit allen gefundenen Verdachtsfällen, einschließlich:</p>
                                        <ul>
                                            <li>Name / Studio</li>
                                            <li>Plattform (Instagram, TikTok, Website)</li>
                                            <li>Beschreibung / Beitragstext</li>
                                            <li>E-Mail (falls verfügbar)</li>
                                            <li>Ort (falls verfügbar)</li>
                                            <li>Link zum Profil</li>
                                        </ul>
                                        
                                        <h5>Beweise</h5>
                                        <p>Hier sehen Sie detaillierte Informationen zu jedem Fall, einschließlich:</p>
                                        <ul>
                                            <li>Fallinformationen (Name, Plattform, Beschreibung, etc.)</li>
                                            <li>Screenshots (Profil und Beitrag)</li>
                                            <li>Links zu den Originalbeiträgen</li>
                                        </ul>
                                        
                                        <p>Sie können auf die Screenshots klicken, um sie in Originalgröße anzuzeigen.</p>
                                        
                                        <div class="alert alert-info">
                                            <i class="bi bi-info-circle"></i> Alle Fälle werden automatisch in Ihrem Monday.com-Board "IRI® Verdachtsfälle" dokumentiert.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingFive">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                        <i class="bi bi-upload me-2"></i> Konfiguration importieren
                                    </button>
                                </h2>
                                <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#helpAccordion">
                                    <div class="accordion-body">
                                        <p>Sie können eine JSON-Konfigurationsdatei hochladen, um die API-Schlüssel für den IRI® Legal Agent zu importieren. Dies ist besonders nützlich, wenn Sie die Konfiguration von einem anderen System übertragen möchten.</p>
                                        
                                        <h5>Format der Konfigurationsdatei</h5>
                                        <p>Die Konfigurationsdatei sollte im JSON-Format vorliegen und die API-Schlüssel für ScreenshotAPI.net und Monday.com enthalten:</p>
                                        
                                        <pre class="bg-light p-3 rounded">
{
    "project_name": "IRI® Verdachtsfälle Agent",
    "apis": {
        "MondayAPI": {
            "headers": {
                "Authorization": "Bearer MONDAY_API_KEY"
            }
        },
        "ScreenshotAPI": {
            "params": {
                "token": "SCREENSHOT_API_KEY"
            }
        }
    }
}
                                        </pre>
                                        
                                        <h5>Importvorgang</h5>
                                        <ol>
                                            <li>Navigieren Sie zu "Konfiguration importieren"</li>
                                            <li>Klicken Sie auf "Durchsuchen" und wählen Sie Ihre JSON-Konfigurationsdatei aus</li>
                                            <li>Klicken Sie auf "Konfiguration importieren"</li>
                                            <li>Die API-Schlüssel werden automatisch aus der Datei extrahiert und in der Anwendung konfiguriert</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingSix">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                        <i class="bi bi-shield-check me-2"></i> Rechtliche Hinweise
                                    </button>
                                </h2>
                                <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix" data-bs-parent="#helpAccordion">
                                    <div class="accordion-body">
                                        <p>Der IRI® Legal Agent dient der Erkennung potenziell illegaler kosmetischer Behandlungen mit Hyaluron Pens in Deutschland. Bitte beachten Sie folgende rechtliche Hinweise:</p>
                                        
                                        <h5>Datenschutz</h5>
                                        <p>Die gesammelten Daten sollten gemäß der Datenschutz-Grundverordnung (DSGVO) behandelt werden. Stellen Sie sicher, dass Sie über die rechtliche Befugnis verfügen, diese Daten zu sammeln und zu verarbeiten.</p>
                                        
                                        <h5>Meldungen an Gesundheitsämter</h5>
                                        <p>Stellen Sie sicher, dass Sie über die rechtliche Befugnis verfügen, Meldungen an Gesundheitsämter zu senden. Die automatische Meldung an Behörden sollte mit Vorsicht eingesetzt werden.</p>
                                        
                                        <h5>Beweissicherung</h5>
                                        <p>Die erstellten Screenshots dienen der Beweissicherung. Stellen Sie sicher, dass Sie diese Beweise rechtmäßig verwenden und speichern.</p>
                                        
                                        <div class="alert alert-warning">
                                            <i class="bi bi-exclamation-triangle"></i> Der IRI® Legal Agent ist ein Werkzeug zur Unterstützung bei der Erkennung potenziell illegaler Aktivitäten. Die rechtliche Bewertung und Entscheidung über weitere Maßnahmen liegt bei Ihnen.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <p class="mb-0">IRI® Legal Agent &copy; 2025 | Alle Rechte vorbehalten</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
